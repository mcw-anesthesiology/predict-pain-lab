<div on:click="closeModal(event)" class="details-container {{ activeClassName }}">
	<div on:click="preventCloseModal(event)" class="details">
{{#if active}}
		<span class="name">
			{{name}}
	{{#if titles}}
			<span class="titles">{{titles.join(', ')}}</span>
	{{/if}}
		</span>
		<img class="image" src="{{image}}" alt="" />
		<div class="bio">{{{bio}}}</div>
{{/if}}
	</div>
</div>

<script>
	export default {
		data(){
			return {
				active: false,
				name: '',
				titles: '',
				image: '',
				bio: ''
			}
		},

		computed: {
			activeClassName : active => active ? 'active' : ''
		},

		onrender(){
			this.observe('active', active => {
				const html = document.querySelector('html');
				if(active)
					html.classList.add('locked');
				else
					html.classList.remove('locked');
			}, { defer: true });
		},

		methods: {
			preventCloseModal(event){
				event.preventDefault();
			},
			closeModal(event){
				if(!event.defaultPrevented)
					this.set({ active: false });
			}
		}
	}
</script>
