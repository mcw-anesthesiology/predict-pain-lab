!function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,t,n){Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/resources/",t(t.s=473)}({169:function(e,t,n){"use strict";function a(e,t,n){("active"in t&&"object"===c(e.active)||e.active!==n.active)&&(e.activeClassName=t.activeClassName=d.computed.activeClassName(e.active))}function o(e,t){function n(e){t.closeModal(e)}function a(e){t.preventCloseModal(e)}function o(e){t.closeModal(e)}function r(e){return e.titles?i:null}var c=document.createElement("div");t.refs.container=c,c.addEventListener("click",n,!1),c.className="details-container "+e.activeClassName;var d=document.createElement("div");d.addEventListener("click",a,!1),d.className="details",c.appendChild(d);var l=document.createElement("button");l.type="button",l.className="close",l.addEventListener("click",o,!1),l.title="Close person details",d.appendChild(l),l.appendChild(document.createTextNode("Ã—")),d.appendChild(document.createTextNode("\n\t\t"));var s=document.createElement("span");s.className="name",d.appendChild(s);var u=document.createTextNode(e.name);s.appendChild(u),s.appendChild(document.createTextNode("\n\t"));var f=document.createComment("#if titles");s.appendChild(f);var m=r(e),v=m&&m(e,t);v&&v.mount(f.parentNode,f),d.appendChild(document.createTextNode("\n\t\t"));var p=document.createElement("img");p.className="image",p.src=e.image,p.alt="",d.appendChild(p),d.appendChild(document.createTextNode("\n\t\t"));var h=document.createElement("div");h.className="bio",d.appendChild(h);var b=document.createElement("noscript");h.appendChild(b);var y=document.createElement("noscript");return h.appendChild(y),b.insertAdjacentHTML("afterend",e.bio),{mount:function(e,t){e.insertBefore(c,t)},update:function(e,n){c.className="details-container "+n.activeClassName,u.data=n.name;var a=m;for(m=r(n),a===m&&v?v.update(e,n):(v&&v.teardown(!0),v=m&&m(n,t),v&&v.mount(f.parentNode,f)),p.src=n.image;b.nextSibling&&b.nextSibling!==y;)b.parentNode.removeChild(b.nextSibling);b.insertAdjacentHTML("afterend",n.bio)},teardown:function(e){t.refs.container===c&&(t.refs.container=null),c.removeEventListener("click",n,!1),d.removeEventListener("click",a,!1),l.removeEventListener("click",o,!1),v&&v.teardown(!1),e&&c.parentNode.removeChild(c)}}}function i(e,t){var n=document.createElement("span");n.className="titles";var a=document.createTextNode(e.titles.join(", "));return n.appendChild(a),{mount:function(e,t){e.insertBefore(n,t)},update:function(e,t){a.data=t.titles.join(", ")},teardown:function(e){e&&n.parentNode.removeChild(n)}}}function r(e){function t(e,t,a){for(var o in e)if(o in t){var i=t[o],r=a[o];if(i!==r||"object"===("undefined"==typeof i?"undefined":c(i))){var d=e[o];if(d)for(var l=0;l<d.length;l+=1){var s=d[l];s.__calling||(s.__calling=!0,s.call(n,i,r),s.__calling=!1)}}}}e=e||{};var n=this;this.refs={};var i=Object.assign(d.data(),e.data);a(i,i,{});var r={immediate:Object.create(null),deferred:Object.create(null)},l=Object.create(null);this.fire=function(e,t){var n=e in l&&l[e].slice();if(n)for(var a=0;a<n.length;a+=1)n[a].call(this,t)},this.get=function(e){return e?i[e]:i},this.set=function(e){var n=i;i=Object.assign({},n,e),a(i,e,n),t(r.immediate,e,n),s&&s.update(e,i),t(r.deferred,e,n)},this.mount=function(e,t){s.mount(e,t)},this.observe=function(e,t,a){var o=a&&a.defer?r.deferred:r.immediate;return(o[e]||(o[e]=[])).push(t),a&&a.init===!1||(t.__calling=!0,t.call(n,i[e]),t.__calling=!1),{cancel:function(){var n=o[e].indexOf(t);~n&&o[e].splice(n,1)}}},this.on=function(e,t){var n=l[e]||(l[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}},this.teardown=function(e){this.fire("teardown"),s.teardown(e!==!1),s=null,i={}},this.root=e.root,this.yield=e.yield;var s=o(i,this);e.target&&this.mount(e.target),e.root?e.root.__renderHooks.push({fn:d.onrender,context:this}):d.onrender.call(this)}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){return{data:function(){return{active:!1,name:"",titles:"",image:"",bio:""}},computed:{activeClassName:function(e){return e?"active":""}},onrender:function(){var e=this,t=function(t){console.log("close modal with esc"),27==t.which&&e.fire("closeModal")};this.on("closeModal",function(){e.set({active:!1});var t=window.location.href.replace(window.location.search,"");window.history.pushState({active:!1},"",t)}),this.observe("active",function(n){var a=document.querySelector("html");n?(a.classList.add("locked"),e.refs.container.scrollTop=0,document.addEventListener("keyup",t)):(a.classList.remove("locked"),document.removeEventListener("keyup",t))},{defer:!0})},methods:{preventCloseModal:function(e){e.preventDefault()},closeModal:function(e){e.defaultPrevented||this.fire("closeModal")}}}}();r.prototype=d.methods,t.a=r},473:function(e,t,n){"use strict";var a=n(169),o=new a.a({target:document.querySelector("body"),data:{active:!1}}),i=Array.from(document.querySelectorAll(".person > a"));i.map(function(e){e.addEventListener("click",function(t){t.preventDefault();var n=Object.assign({},e.dataset,{active:!0});n.titles=JSON.parse(n.titles),window.history.pushState(n,"",e.href),o.set(n)})}),window.addEventListener("popstate",function(e){o.set(e.state)}),window.addEventListener("load",function(){if(window.location.search&&!o.get("active")){var e=document.querySelector('.person > a[href="'+window.location.search+'"]');if(e){var t=Object.assign({},e.dataset,{active:!0});t.titles=JSON.parse(t.titles),o.set(t)}}})}});
//# sourceMappingURL=people.js.map